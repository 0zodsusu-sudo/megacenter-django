{% load static %}
<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{% block title %}Mega Center{% endblock %}</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'reviews/css/style.css' %}">
</head>
<body>
  <!-- Placeholder для дверей -->
  <div id="lift-doors-placeholder"></div>

  <!-- Header -->
  <header class="bg-white shadow-sm mb-3">
    <div class="container py-2 d-flex justify-content-between align-items-center">
      <div>
        <h4 class="mb-0">Mega Center — Зарафшан</h4>
        <small class="text-muted">Отзывы торгового центра</small>
      </div>
      <div>
        <a class="btn btn-outline-secondary" href="/">Главная</a>
      </div>
    </div>
  </header>

  <!-- Main content -->
  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="mt-5 py-3 bg-light">
    <div class="container text-center text-muted">© Mega Center</div>
  </footer>

  <!-- Bootstrap Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Custom JS -->
  <script src="{% static 'reviews/js/main.js' %}"></script>

  <!-- Скрипт анимации дверей -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    // Проверяем: если пользователь впервые заходит на сайт
    if (!sessionStorage.getItem('firstVisitDone')) {
      sessionStorage.setItem('firstVisitDone', '1');

      const glassLeft = document.createElement('div');
      const glassRight = document.createElement('div');
      glassLeft.classList.add('glass-door', 'left');
      glassRight.classList.add('glass-door', 'right');
      document.body.appendChild(glassLeft);
      document.body.appendChild(glassRight);

      setTimeout(() => {
        glassLeft.classList.add('open');
        glassRight.classList.add('open');
      }, 300);

      setTimeout(() => {
        glassLeft.remove();
        glassRight.remove();
      }, 1800);
    }
  });
  </script>
</body>
</html>
